lui $28, 0x7fff
ori $28, $28, 0xffca
lw $1, 54($28)
mflo $28
ori $10, $0, 0x208b
multu $10, $18
jal label4
lh $18, 69($10)
label4:
mflo $10
ori $25, $0, 0x7eb5
multu $25, $7
jal label10
lw $7, 79($25)
label10:
mtlo $25
mflo $25
ori $19, $0, 0x7ed5
multu $19, $18
jal label17
lb $18, 86($19)
label17:
mtlo $19
mflo $19
ori $8, $0, 0x1f73
jal label24
lb $10, 81($8)
label24:
mtlo $8
mflo $8
lui $25, 0x7fff
ori $25, $25, 0xffa2
lb $4, 94($25)
mflo $25
ori $19, $0, 0x7eac
multu $19, $29
jal label34
lh $29, 84($19)
label34:
mflo $19
ori $28, $0, 0x7ec7
multu $28, $11
lb $11, 89($28)
mflo $28
ori $18, $0, 0x7ecc
lb $1, 84($18)
mtlo $18
mflo $18
lui $24, 0x7fff
ori $24, $24, 0xffc6
multu $24, $2
lb $2, 58($24)
mtlo $24
mflo $24
ori $30, $0, 0x1c9c
multu $30, $15
jal label54
lw $15, 52($30)
label54:
mflo $30
ori $25, $0, 0x7ece
jal label60
lb $16, 76($25)
label60:
mflo $25
ori $5, $0, 0x7eb4
multu $5, $10
lb $10, 96($5)
mtlo $5
mflo $5
ori $10, $0, 0x7ee1
multu $10, $14
lb $14, 63($10)
mtlo $10
mflo $10
ori $11, $0, 0x7ed7
multu $11, $25
jal label75
lh $25, 61($11)
label75:
mflo $11
ori $23, $0, 0x2fba
multu $23, $3
jal label81
lh $3, 70($23)
label81:
mtlo $23
mflo $23
ori $17, $0, 0x2fc0
lh $2, 58($17)
mflo $17
ori $9, $0, 0x7eb0
multu $9, $17
jal label91
lh $17, 86($9)
label91:
mflo $9
ori $24, $0, 0x27e6
lh $21, 56($24)
mtlo $24
mflo $24
ori $19, $0, 0x7ee1
multu $19, $15
lh $15, 69($19)
mtlo $19
mflo $19
ori $15, $0, 0x7ec5
multu $15, $22
lb $22, 59($15)
mflo $15
lui $14, 0xffff
ori $14, $14, 0xffc7
multu $14, $1
lb $1, 57($14)
mflo $14
ori $24, $0, 0x7ed2
jal label115
lw $9, 62($24)
label115:
mtlo $24
mflo $24
ori $15, $0, 0x2fbb
lw $30, 64($15)
mflo $15
lui $3, 0x7fff
ori $3, $3, 0xffc9
jal label124
lh $1, 55($3)
label124:
mflo $3
ori $3, $0, 0x7eb6
multu $3, $10
jal label130
lh $10, 90($3)
label130:
mflo $3
ori $13, $0, 0x7ec5
lh $1, 91($13)
mflo $13
ori $8, $0, 0x2966
multu $8, $2
lh $2, 66($8)
mflo $8
ori $27, $0, 0x7ea4
lw $11, 92($27)
mflo $27
lui $3, 0xffff
ori $3, $3, 0xffa9
multu $3, $13
jal label146
lb $13, 85($3)
label146:
mtlo $3
mflo $3
ori $19, $0, 0x7ebd
lw $28, 71($19)
mtlo $19
mflo $19
ori $2, $0, 0x7ed9
lw $10, 55($2)
mflo $2
ori $16, $0, 0x124b
multu $16, $23
lw $23, 85($16)
mflo $16
ori $18, $0, 0x7ee9
jal label165
lw $10, 71($18)
label165:
mtlo $18
mflo $18
lui $22, 0x7fff
ori $22, $22, 0xffc8
lh $29, 56($22)
mflo $22
ori $11, $0, 0x14f
multu $11, $29
jal label175
lw $29, 76($11)
label175:
mtlo $11
mflo $11
lui $29, 0x7fff
ori $29, $29, 0xffb9
jal label182
lb $2, 72($29)
label182:
mtlo $29
mflo $29
ori $19, $0, 0x7ebc
multu $19, $14
jal label189
lb $14, 96($19)
label189:
mflo $19
lui $9, 0x7fff
ori $9, $9, 0xffcb
multu $9, $13
lw $13, 53($9)
mtlo $9
mflo $9
ori $8, $0, 0x7eb3
jal label201
lw $20, 75($8)
label201:
mtlo $8
mflo $8
ori $29, $0, 0x7ecf
jal label207
lw $21, 63($29)
label207:
mflo $29
lui $18, 0xffff
ori $18, $18, 0xffa1
lh $4, 97($18)
mtlo $18
mflo $18
ori $29, $0, 0x1808
multu $29, $14
lw $14, 64($29)
mtlo $29
mflo $29
ori $23, $0, 0x7eda
multu $23, $21
jal label222
lh $21, 66($23)
label222:
mflo $23
ori $5, $0, 0x7ecf
multu $5, $24
lw $24, 65($5)
mtlo $5
mflo $5
lui $28, 0xffff
ori $28, $28, 0xffa4
multu $28, $11
lh $11, 92($28)
mflo $28
lui $20, 0x7fff
ori $20, $20, 0xffaf
lb $18, 81($20)
mtlo $20
mflo $20
ori $19, $0, 0x152a
lb $11, 78($19)
mtlo $19
mflo $19
ori $3, $0, 0x7eb7
multu $3, $28
jal label247
lh $28, 89($3)
label247:
mtlo $3
mflo $3
ori $3, $0, 0x7eb9
lw $3, 89($3)
mflo $3
ori $24, $0, 0x7ef1
lh $17, 64($24)
mflo $24
lui $15, 0x7fff
ori $15, $15, 0xffa3
jal label260
lb $30, 93($15)
label260:
mtlo $15
mflo $15
ori $4, $0, 0xea8
jal label267
lh $30, 70($4)
label267:
mtlo $4
mflo $4
lui $19, 0xffff
ori $19, $19, 0xffc2
multu $19, $11
lh $11, 62($19)
mflo $19
ori $24, $0, 0x2fb5
multu $24, $10
lh $10, 75($24)
mflo $24
ori $23, $0, 0x2fa1
multu $23, $14
lh $14, 87($23)
mtlo $23
mflo $23
ori $12, $0, 0x7ee0
lh $19, 68($12)
mflo $12
ori $14, $0, 0x7eeb
multu $14, $29
lh $29, 53($14)
mtlo $14
mflo $14
lui $2, 0x7fff
ori $2, $2, 0xffbc
lh $11, 68($2)
mflo $2
ori $21, $0, 0x7eb6
multu $21, $5
lw $5, 90($21)
mtlo $21
mflo $21
ori $22, $0, 0x1edd
multu $22, $19
lw $19, 83($22)
mtlo $22
mflo $22
lui $7, 0x7fff
ori $7, $7, 0xffcc
lw $24, 52($7)
mflo $7
ori $11, $0, 0x2fc3
lh $15, 71($11)
mtlo $11
mflo $11
lui $25, 0xffff
ori $25, $25, 0xffaa
lh $6, 84($25)
mflo $25
lui $12, 0x7fff
ori $12, $12, 0xffce
jal label321
lh $3, 50($12)
label321:
mtlo $12
mflo $12
lui $5, 0x7fff
ori $5, $5, 0xffbb
jal label328
lh $26, 69($5)
label328:
mflo $5
lui $9, 0x7fff
ori $9, $9, 0xffb4
multu $9, $4
jal label334
lh $4, 77($9)
label334:
mtlo $9
mflo $9
ori $19, $0, 0x7edc
multu $19, $25
lh $25, 52($19)
mtlo $19
mflo $19
ori $25, $0, 0x7ea1
jal label347
lb $21, 93($25)
label347:
mtlo $25
mflo $25
ori $24, $0, 0x7ee8
multu $24, $12
lb $12, 56($24)
mtlo $24
mflo $24
ori $6, $0, 0x7ebb
jal label358
lb $18, 71($6)
label358:
mflo $6
ori $15, $0, 0x7eb3
multu $15, $1
jal label363
lh $1, 89($15)
label363:
mtlo $15
mflo $15
ori $8, $0, 0x7ec5
multu $8, $30
lb $30, 59($8)
mtlo $8
mflo $8
ori $8, $0, 0x7ef0
lw $2, 56($8)
mtlo $8
mflo $8
ori $2, $0, 0x7eb1
multu $2, $1
jal label379
lw $1, 94($2)
label379:
mflo $2
ori $25, $0, 0x2fb1
lh $2, 79($25)
mflo $25
ori $13, $0, 0x7ead
jal label388
lb $3, 83($13)
label388:
mflo $13
lui $23, 0x7fff
ori $23, $23, 0xffb9
multu $23, $28
jal label393
lh $28, 71($23)
label393:
mtlo $23
mflo $23
ori $12, $0, 0x7ed1
lh $22, 71($12)
mtlo $12
mflo $12
lui $26, 0xffff
ori $26, $26, 0xffd1
multu $26, $6
jal label405
lb $6, 51($26)
label405:
mtlo $26
mflo $26
ori $1, $0, 0x7ee9
multu $1, $18
jal label413
lh $18, 51($1)
label413:
mtlo $1
mflo $1
ori $3, $0, 0x1c75
lw $5, 65($3)
mflo $3
lui $21, 0x7fff
ori $21, $21, 0xffce
multu $21, $23
jal label423
lh $23, 50($21)
label423:
mflo $21
lui $14, 0xffff
ori $14, $14, 0xffa9
multu $14, $5
jal label430
lw $5, 89($14)
label430:
mtlo $14
mflo $14
lui $18, 0x7fff
ori $18, $18, 0xffca
multu $18, $4
jal label438
lw $4, 54($18)
label438:
mflo $18
lui $5, 0x7fff
ori $5, $5, 0xffad
jal label445
lh $8, 84($5)
label445:
mtlo $5
mflo $5
ori $20, $0, 0x7ee3
jal label452
lb $15, 69($20)
label452:
mtlo $20
mflo $20
ori $22, $0, 0x7ead
multu $22, $28
lh $28, 79($22)
mflo $22
ori $14, $0, 0xaf9
multu $14, $6
jal label462
lh $6, 59($14)
label462:
mflo $14
ori $21, $0, 0x7ed1
multu $21, $20
lh $20, 69($21)
mtlo $21
mflo $21
ori $6, $0, 0x7ed3
multu $6, $21
jal label473
lh $21, 77($6)
label473:
mtlo $6
mflo $6
lui $3, 0x7fff
ori $3, $3, 0xffa2
lh $9, 95($3)
mtlo $3
mflo $3
ori $7, $0, 0x7ec3
multu $7, $4
lw $4, 75($7)
mflo $7
lui $12, 0x7fff
ori $12, $12, 0xffbd
lb $6, 67($12)
mflo $12
ori $27, $0, 0x1bc7
lh $5, 93($27)
mflo $27
lui $13, 0xffff
ori $13, $13, 0xffb7
jal label496
lb $19, 75($13)
label496:
mflo $13
ori $9, $0, 0x7ecc
lb $20, 64($9)
mflo $9
ori $30, $0, 0x2fb5
lh $8, 83($30)
mflo $30
ori $4, $0, 0x7ec1
multu $4, $10
lw $10, 86($4)
mtlo $4
mflo $4
ori $25, $0, 0x7ebc
lh $26, 68($25)
mtlo $25
mflo $25
lui $11, 0x7fff
ori $11, $11, 0xffa2
multu $11, $29
jal label517
lh $29, 94($11)
label517:
mflo $11
lui $5, 0x7fff
ori $5, $5, 0xffc8
lw $17, 56($5)
mtlo $5
mflo $5
ori $27, $0, 0x7ec5
lh $29, 91($27)
mtlo $27
mflo $27
ori $25, $0, 0x7eb8
jal label533
lh $6, 72($25)
label533:
mflo $25
lui $4, 0x7fff
ori $4, $4, 0xffc7
multu $4, $28
jal label538
lw $28, 57($4)
label538:
mflo $4
ori $4, $0, 0x7ec5
multu $4, $28
lb $28, 75($4)
mtlo $4
mflo $4
ori $5, $0, 0x11b5
lw $6, 98($5)
mflo $5
ori $6, $0, 0x20c2
multu $6, $1
jal label553
lh $1, 69($6)
label553:
mtlo $6
mflo $6
ori $12, $0, 0x7eea
lb $25, 66($12)
mtlo $12
mflo $12
lui $13, 0x7fff
ori $13, $13, 0xffae
lh $23, 82($13)
mflo $13
ori $9, $0, 0x7eb6
lw $20, 74($9)
mflo $9
ori $20, $0, 0x7ebb
multu $20, $30
lb $30, 73($20)
mtlo $20
mflo $20
ori $16, $0, 0x7ea1
multu $16, $11
lh $11, 95($16)
mflo $16
ori $8, $0, 0x7ecd
multu $8, $18
jal label580
lh $18, 52($8)
label580:
mflo $8
ori $2, $0, 0x7ed8
jal label586
lh $30, 72($2)
label586:
mtlo $2
mflo $2
lui $20, 0xffff
ori $20, $20, 0xffc1
multu $20, $14
jal label592
lw $14, 63($20)
label592:
mflo $20
lui $9, 0x7fff
ori $9, $9, 0xffb6
jal label599
lw $30, 74($9)
label599:
mtlo $9
mflo $9
ori $11, $0, 0x3bc
multu $11, $6
lh $6, 92($11)
mflo $11
ori $23, $0, 0x7ee7
lb $16, 54($23)
mflo $23
ori $24, $0, 0x7eb4
multu $24, $2
jal label613
lb $2, 91($24)
label613:
mflo $24
lui $1, 0x7fff
ori $1, $1, 0xffa2
jal label619
lb $24, 94($1)
label619:
mflo $1
ori $26, $0, 0x7ecf
jal label625
lw $17, 65($26)
label625:
mtlo $26
mflo $26
lui $6, 0x7fff
ori $6, $6, 0xffcd
multu $6, $26
lh $26, 51($6)
mtlo $6
mflo $6
ori $7, $0, 0x7eb4
jal label637
lh $11, 92($7)
label637:
mflo $7
ori $20, $0, 0x2f9c
lw $23, 94($20)
mtlo $20
mflo $20
ori $28, $0, 0x15f8
multu $28, $3
jal label646
lh $3, 72($28)
label646:
mtlo $28
mflo $28
ori $25, $0, 0x7eed
multu $25, $30
jal label653
lb $30, 51($25)
label653:
mtlo $25
mflo $25
ori $27, $0, 0x7ed5
jal label660
lh $5, 56($27)
label660:
mflo $27
ori $13, $0, 0x7ec2
multu $13, $9
lh $9, 94($13)
mflo $13
lui $30, 0x7fff
ori $30, $30, 0xffae
multu $30, $1
jal label669
lh $1, 82($30)
label669:
mtlo $30
mflo $30
ori $5, $0, 0x20ec
multu $5, $28
lh $28, 69($5)
mtlo $5
mflo $5
lui $10, 0x7fff
ori $10, $10, 0xff9d
multu $10, $22
jal label682
lh $22, 99($10)
label682:
mflo $10
ori $28, $0, 0x7ed5
jal label689
lh $5, 87($28)
label689:
mtlo $28
mflo $28
ori $11, $0, 0x7ec2
multu $11, $12
lh $12, 82($11)
mflo $11
ori $9, $0, 0x7eaf
jal label699
lb $8, 81($9)
label699:
mtlo $9
mflo $9
ori $9, $0, 0x7ee3
multu $9, $12
jal label705
lb $12, 63($9)
label705:
mflo $9
ori $7, $0, 0x7ed7
multu $7, $26
jal label711
lb $26, 66($7)
label711:
mtlo $7
mflo $7
ori $22, $0, 0x7ee6
lh $6, 75($22)
mtlo $22
mflo $22
ori $22, $0, 0x2fc2
jal label722
lw $29, 68($22)
label722:
mflo $22
ori $4, $0, 0x7eed
multu $4, $24
jal label727
lb $24, 51($4)
label727:
mtlo $4
mflo $4
ori $4, $0, 0x2fc8
multu $4, $25
lb $25, 66($4)
mflo $4
ori $18, $0, 0x2fa1
multu $18, $11
jal label738
lh $11, 87($18)
label738:
mtlo $18
mflo $18
ori $19, $0, 0x7ec3
multu $19, $1
lb $1, 89($19)
mtlo $19
mflo $19
ori $22, $0, 0x2f15
jal label750
lw $19, 77($22)
label750:
mtlo $22
mflo $22
lui $30, 0xffff
ori $30, $30, 0xffc0
multu $30, $26
lb $26, 64($30)
mtlo $30
mflo $30
ori $30, $0, 0x1948
multu $30, $30
jal label762
lh $30, 50($30)
label762:
mflo $30
lui $11, 0x7fff
ori $11, $11, 0xffc4
jal label768
lh $9, 60($11)
label768:
mtlo $11
mflo $11
ori $25, $0, 0x7ed7
lb $19, 57($25)
mflo $25
ori $19, $0, 0x7ed8
multu $19, $10
jal label778
lb $10, 72($19)
label778:
mtlo $19
mflo $19
ori $11, $0, 0x7eae
jal label785
lh $24, 82($11)
label785:
mtlo $11
mflo $11
ori $6, $0, 0x7ecd
multu $6, $19
lh $19, 83($6)
mflo $6
ori $4, $0, 0x7ed6
multu $4, $3
lw $3, 76($4)
mtlo $4
mflo $4
ori $15, $0, 0x7eb6
jal label800
lw $23, 74($15)
label800:
mtlo $15
mflo $15
lui $22, 0xffff
ori $22, $22, 0xffa7
jal label806
lb $23, 89($22)
label806:
mtlo $22
mflo $22
ori $23, $0, 0x7ee4
lw $25, 72($23)
mflo $23
lui $24, 0x7fff
ori $24, $24, 0xffb5
multu $24, $6
jal label816
lw $6, 75($24)
label816:
mtlo $24
mflo $24
ori $15, $0, 0x7ebe
multu $15, $27
lw $27, 87($15)
mtlo $15
mflo $15
ori $28, $0, 0x7ee0
multu $28, $22
lw $22, 64($28)
mtlo $28
mflo $28
ori $11, $0, 0x2162
jal label834
lw $8, 58($11)
label834:
mtlo $11
mflo $11
ori $19, $0, 0x7ebb
lh $27, 67($19)
mflo $19
ori $30, $0, 0x7ec9
multu $30, $2
jal label843
lh $2, 87($30)
label843:
mtlo $30
mflo $30
ori $10, $0, 0x2fa8
multu $10, $27
jal label850
lh $27, 82($10)
label850:
mtlo $10
mflo $10
lui $23, 0x7fff
ori $23, $23, 0xffa6
jal label857
lw $9, 90($23)
label857:
mflo $23
ori $17, $0, 0x7ec8
multu $17, $27
jal label863
lh $27, 60($17)
label863:
mtlo $17
mflo $17
lui $22, 0x7fff
ori $22, $22, 0xffaf
multu $22, $21
jal label870
lw $21, 82($22)
label870:
mflo $22
lui $24, 0x7fff
ori $24, $24, 0xffbc
jal label877
lb $14, 68($24)
label877:
mflo $24
lui $17, 0x7fff
ori $17, $17, 0xffbb
multu $17, $20
jal label883
lw $20, 69($17)
label883:
mtlo $17
mflo $17
lui $26, 0x7fff
ori $26, $26, 0xffa7
multu $26, $14
jal label891
lw $14, 89($26)
label891:
mtlo $26
mflo $26
ori $23, $0, 0x20e4
lh $4, 80($23)
mflo $23
ori $24, $0, 0x2bd9
multu $24, $17
lw $17, 77($24)
mtlo $24
mflo $24
ori $2, $0, 0x2fc0
lb $6, 64($2)
mtlo $2
mflo $2
ori $1, $0, 0x212
multu $1, $19
jal label911
lh $19, 52($1)
label911:
mtlo $1
mflo $1
ori $23, $0, 0x7ee9
lh $11, 53($23)
mflo $23
ori $9, $0, 0x7eab
jal label921
lb $26, 99($9)
label921:
mtlo $9
mflo $9
lui $23, 0x7fff
ori $23, $23, 0xffca
jal label927
lh $14, 54($23)
label927:
mflo $23
ori $16, $0, 0x7ebc
multu $16, $2
lh $2, 80($16)
mtlo $16
mflo $16
ori $14, $0, 0x7ec2
multu $14, $21
jal label938
lh $21, 96($14)
label938:
mtlo $14
mflo $14
ori $3, $0, 0x7ecb
lw $7, 65($3)
mtlo $3
mflo $3
lui $22, 0xffff
ori $22, $22, 0xffb0
multu $22, $3
lb $3, 80($22)
mtlo $22
mflo $22
ori $24, $0, 0x7eb7
multu $24, $4
lb $4, 77($24)
mtlo $24
mflo $24
ori $26, $0, 0x7eb1
multu $26, $12
jal label960
lh $12, 87($26)
label960:
mflo $26
ori $17, $0, 0x63b
multu $17, $5
lb $5, 56($17)
mtlo $17
mflo $17
ori $18, $0, 0x2ae4
multu $18, $22
jal label971
lb $22, 58($18)
label971:
mflo $18
ori $9, $0, 0x7eda
lh $25, 58($9)
mtlo $9
mflo $9
ori $5, $0, 0x7ed4
multu $5, $4
lb $4, 74($5)
mtlo $5
mflo $5
ori $5, $0, 0x7eb8
multu $5, $28
jal label986
lh $28, 82($5)
label986:
mtlo $5
mflo $5
ori $20, $0, 0x7ea6
multu $20, $7
jal label993
lb $7, 90($20)
label993:
mtlo $20
mflo $20
end:
beq $0, $0, end
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
nop
_quick_handle:
	mfc0 $k0, $13
	andi $k0, $k0, 0x00fc

	# 没有srl指令，这一步骤判断异常是否为0x0004
	ori	$k1, $0, 0x0010
	beq	$k0, $k1, adel_handler_quick
	nop
	
	beq $0, $0, _entry
	nop

_entry:	
	mfc0 $1, $13
	ori	$k0, $0, 0x1000
	sw $sp, -4($k0)
	
	addi $k0, $k0, -256
	add $sp, $0, $k0
	
	beq $0, $0,	_save_context
	nop
	
adel_handler_quick:
	mfc0 $k0, $14
	addi $k0, $k0, -0x3000
	lui $k1, 0xffff
	ori $k1,$k1,0xe000
	and $k0,$k0,$k1
	bne $k0,$0,adel_type_2
	nop
	mfc0 $k0, $14
	andi $k0,$k0,3
	bne $k0,$0,adel_type_1
	nop
	jal _entry
	nop
	
adel_type_1:
	mfc0 $k0, $14
	andi $k0, $k0, 0xfffc
	addi $k0, $k0, 4
	mtc0 $k0, $14
	eret
	ori $1, $0, 0x1234
	
adel_type_2:
	ori $k0, $0, 0x2180
	lw $k0, 0($k0)
	mtc0 $k0,$14
	nop
	eret
	ori $1, $0, 0x1234

_main_handler:
	mfc0 $k0, $13
	andi $k0, $k0, 0x00fc
	
	ori	$k1, $0, 0x0000
	beq	$k0, $k1, int_handler
	nop
	ori	$k1, $0, 0x0010
	beq	$k0, $k1, adel_handler
	nop
	ori	$k1, $0, 0x0014
	beq	$k0, $k1, ades_handler
	nop
	ori	$k1, $0, 0x0028
	beq	$k0, $k1, ri_handler
	nop
	ori	$k1, $0, 0x0030
	beq	$k0, $k1, ov_handler
	nop
	ori $k1, $0, 0x0020
	beq $k0, $k1, syscall_handler
	nop
	
int_handler:
	sw $ra, 0($sp)
	addi $sp, $sp, -16
	mfc0 $v0, $12
	sw $v0, 0($sp)
	mfc0 $v0, $13
	sw $v0, 4($sp)
		
	# check INT[3]
	lw $v0, 0($sp)
	lw $v1, 4($sp)
	and	$v0, $v1, $v0
	andi $v0, $v0, 0x800
	bne	$v0, $0, timer1_handler
	nop
	
	# check INT[2]
	lw	$v0, 0($sp)
	lw	$v1, 4($sp)
	and	$v0, $v1, $v0
	andi $v0, $v0, 0x400
	bne	$v0, $0, timer0_handler
	nop
	jal interrupt_handler
	nop

interrupt_handler:
	lui $k0, 0xffff
	ori $k0, $k0, 0xffff
	addi $k1, $0, 0x2180
	lw $k1, 0($k1)
	addi $k0, $0, 0x7f20
	sb $0, 0($k0)
	jal _restore_context
	nop

timer0_handler:
	lui $k0, 0xffff
	addi $k1, $0, 0x2180
	lw $k1, 0($k1) 
	addi $k0, $0, 0x7f00
	sw $0, 0($k0)
	jal _restore_context
	nop

timer1_handler:
	lui $k0, 0xffff
	ori $k0, $k0, 0x1
	addi $k1, $0, 0x2180
	lw $k1, 0($k1)
	addi $k0, $0, 0x7f10
	sw $0, 0($k0)
	jal _restore_context
	nop

adel_handler:
	mfc0 $t0, $14
	mfc0 $k0, $13
	lui	$t2, 0x8000
	and	$t3, $k0, $t2
	addi $t0, $t0, 4
	bne	$t3, $t2, adel_nxt
	nop
	addi $t0, $t0, 4
	adel_nxt:
	mtc0 $t0, $14
	jal	_restore_context
	nop

ades_handler:
	mfc0 $t0, $14
	mfc0 $k0, $13
	lui	$t2, 0x8000
	and	$t3, $k0, $t2
	addi $t0, $t0, 4
	bne	$t3, $t2, ades_nxt
	nop
	addi $t0, $t0, 4
	ades_nxt:
	mtc0 $t0, $14
	jal	_restore_context
	nop
	
ri_handler:
	mfc0 $t0, $14
	mfc0 $k0, $13
	lui	$t2, 0x8000
	and	$t3, $k0, $t2
	addi $t0, $t0, 4
	bne	$t3, $t2, ri_nxt
	nop
	addi $t0, $t0, 4
	ri_nxt:
	mtc0 $t0, $14
	jal	_restore_context
	nop
	
ov_handler:
	mfc0 $t0, $14
	mfc0 $k0, $13
	lui	$t2, 0x8000
	and	$t3, $k0, $t2
	addi $t0, $t0, 4
	bne	$t3, $t2, ov_nxt
	nop
	addi $t0, $t0, 4
	ov_nxt:
	mtc0 $t0, $14
	jal	_restore_context
	nop

syscall_handler:
	mfc0 $t0, $14
	mfc0 $k0, $13
	lui	$t2, 0x8000
	and	$t3, $k0, $t2
	addi $t0, $t0, 4
	bne	$t3, $t2, syscall_nxt
	nop
	addi $t0, $t0, 4
	syscall_nxt:
	mtc0 $t0, $14
	jal	_restore_context
	nop

_restore:
	eret
	ori $1, $0, 0x1234
	
_save_context:
    sw $2, 8($sp)    
    sw $3, 12($sp)    
    sw $4, 16($sp)    
    sw $5, 20($sp)    
    sw $6, 24($sp)    
    sw $7, 28($sp)    
    sw $8, 32($sp)    
    sw $9, 36($sp)    
    sw $10, 40($sp)   
    sw $11, 44($sp)    
    sw $12, 48($sp)   
    sw $13, 52($sp)    
    sw $14, 56($sp)   
    sw $15, 60($sp)    
    sw $16, 64($sp)   
    sw $17, 68($sp)    
    sw $18, 72($sp)   
    sw $19, 76($sp)    
    sw $20, 80($sp)   
    sw $21, 84($sp)    
    sw $22, 88($sp)   
    sw $23, 92($sp)    
    sw $24, 96($sp)   
    sw $25, 100($sp)   
    sw $28, 112($sp)   
    sw $29, 116($sp)   
    sw $30, 120($sp)   
	sw $31, 124($sp)
	mfhi $k0
	sw $k0, 128($sp)
	mflo $k0
	sw $k0, 132($sp)
	jal	_main_handler
	nop
	
_restore_context:
	addi $sp, $0, 0x1000
	addi $sp, $sp, -256
    lw $2, 8($sp)   
    lw $3, 12($sp)   
    lw $4, 16($sp)   
    lw $5, 20($sp)   
    lw $6, 24($sp)   
    lw $7, 28($sp)   
    lw $8, 32($sp)   
    lw $9, 36($sp)   
    lw $10, 40($sp)    
    lw $11, 44($sp)   
    lw $12, 48($sp)    
    lw $13, 52($sp)   
    lw $14, 56($sp)    
    lw $15, 60($sp)   
    lw $16, 64($sp)    
    lw $17, 68($sp)   
    lw $18, 72($sp)    
    lw $19, 76($sp)   
    lw $20, 80($sp)    
    lw $21, 84($sp)   
    lw $22, 88($sp)    
    lw $23, 92($sp)   
    lw $24, 96($sp)    
    lw $25, 100($sp)    
    lw $28, 112($sp)   
    lw $30, 120($sp)   
    lw $31, 124($sp)   
	lw $k0, 128($sp)
	mthi $k0
	lw $k0, 132($sp)
	mtlo $k0
    lw $29, 116($sp)
	ori $1,$0,1
    beq $0, $0, _restore	
	nop